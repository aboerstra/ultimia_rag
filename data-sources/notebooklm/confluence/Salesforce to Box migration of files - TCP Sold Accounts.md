# Salesforce to Box migration of files / TCP Sold Accounts

*Source: Confluence | Page ID: 3245473801*
*Last Updated: 2024-07-25T20:49:03.537Z by Laura Dolphin*

---

<ac:structured-macro ac:name="toc" ac:schema-version="1" data-layout="default" ac:local-id="fe5906cf-d800-4b7b-ab27-92504a06c908" ac:macro-id="0b8b4cff-065b-4a3c-aa5b-ac3dbfb94d3e"><ac:parameter ac:name="style">none</ac:parameter></ac:structured-macro><h1>Problem Summary</h1><p><strong>Background:</strong><br />Maxim recently finalized the sale of 850 charge-off accounts to TCP, a buying entity, on April 29, 2024. As part of the transaction terms, Maxim is obligated to provide TCP with comprehensive access to all files, folders, and account-related information concerning these sold accounts. The primary repositories for these files include Box and LeaseWorks. However, several critical documents, specifically prints of vehicle objects and files stored in &quot;Notes &amp; Attachments&quot; (and potentially &quot;Work Orders&quot;), are only available in Salesforce and have not yet been transferred to Box.</p><p>In addition to this specific project, Maxim wants to complete this exercise for the entire Org (All Opportunities) to add any missing information that exists in Salesforce to existing Box folders.</p><p><strong>Problem Statement:</strong><br />The immediate challenge is efficiently transferring the required account-related documents from Salesforce to Box to comply with the sale agreement with TCP. The documents in question are not uniformly stored, posing a challenge in aggregation and transfer. Additionally, there is an ongoing requirement to maintain a similar structure in Box for all terminated accounts, not just the 850 sold to TCP or be able to repeat this process in the future.</p><h1><strong>Current State</strong></h1><p>On a Salesforce Opportunity, there exists a field &ldquo;Account Number&rdquo;. This is the unique identifier to which there exists a matching Folder in Box with files. </p><ac:image ac:align="center" ac:layout="center" ac:original-height="550" ac:original-width="797" ac:custom-width="true" ac:alt="image-20240723-184430.png" ac:width="438"><ri:attachment ri:filename="image-20240723-184430.png" ri:version-at-save="1" /></ac:image><p>One Salesforce Account may have multiple Opportunities, each Opportunity may have its own Account Number to which we would put information into Box.</p><p>In Box, there already exists a Folder &ldquo;<a href="https://maximcc.app.box.com/folder/261811866988?s=tzp6epwpq9lir62cn1w6bsfcxwk46v3d"><strong>TCP Account Documents 2024.04.29</strong></a>&rdquo; with folders for all the Accounts that have been sold. </p><ac:image ac:align="center" ac:layout="center" ac:original-height="398" ac:original-width="1384" ac:custom-width="true" ac:alt="image-20240723-184409.png" ac:width="640"><ri:attachment ri:filename="image-20240723-184409.png" ri:version-at-save="1" /></ac:image><p>The TCP Accounts are not identified in Salesforce, but we have a spreadsheet with the Account IDs (that will match to the folder that exists in the TCP Account Documents folder).</p><h1> <br /><strong>Requirements:</strong></h1><h3>Salesforce Data </h3><p>The data that we want to move over from Salesforce to Box is as follows:</p><ol start="1"><li><p>Opportunity&gt;Notes &amp; Attachments (All Accounts (Opportunities))</p></li><li><p>Opportunity&gt;Vehicle&gt; Notes &amp; Attachments (All Accounts (Opportunities))</p></li><li><p>Opportunity&gt;Vehicle&gt; Record field data (as pdf)** (TCP Sold Accounts (Opportunities) only) - this is a nice to have. Ideally, they would be able to take the Record view with all fields and save as a PDF to the Vehicle in Notes and then push this to Box.</p></li></ol><ac:image ac:align="center" ac:layout="center" ac:original-height="526" ac:original-width="1502" ac:custom-width="true" ac:alt="image-20240723-184707.png" ac:width="624"><ri:attachment ri:filename="image-20240723-184707.png" ri:version-at-save="1" /></ac:image><ac:image ac:align="center" ac:layout="center" ac:original-height="698" ac:original-width="762" ac:custom-width="true" ac:alt="image-20240723-184622.png" ac:width="312"><ri:attachment ri:filename="image-20240723-184622.png" ri:version-at-save="1" /></ac:image><h3>Box Folder logic&gt;All Accounts (Opportunities with Account Numbers ???)</h3><ol start="1"><li><p>Define criteria for which Opportunities we want to apply this logic i.e. only those that have account number, tec.</p></li><li><p>In Box, there will be a Folder for a Deal that matches by Account Number. If we find a matching folder, add a sub-folder called &ldquo;Salesforce Download&rdquo; and add relevant Salesforce Data for All Accounts. </p></li><li><p>If folder doesn&rsquo;t match in Box, we create it and add Salesforce Data.</p></li></ol><h3>Box Folder logic&gt;TCP Accounts</h3><ol start="1"><li><p>In Box, in the &ldquo;<a href="https://maximcc.app.box.com/folder/261811866988?s=tzp6epwpq9lir62cn1w6bsfcxwk46v3d"><strong>TCP Account Documents 2024.04.29</strong></a>&rdquo; find folder by Account Number. If we find a matching folder, add a sub-folder called &ldquo;Salesforce Download&rdquo; and add relevant Salesforce Data. </p></li><li><p>If folder doesn&rsquo;t match in Box, we create it and add Salesforce Data.</p></li></ol><p /><h2>Breakdown &amp; Estimates</h2><h3>TCP Sold Accounts (Opportunities)</h3><ol start="1"><li><p>Fetch Opportunities Sold via provided list of IDs</p></li><li><p>Get child folders in Box based off ID of Parent <strong>TCP Account Documents 2024.04.29 </strong>Folder. </p></li><li><p>Build job that finds matching child folder based off Account Number.</p></li><li><p>Get related Opportunity data in Salesforce and push to new folder &ldquo;Salesforce Documents&rdquo; in Box under Account folder in TCP Account Documents 2024.04.29 Folder.</p></li></ol><p><strong>Estimate for TCP Sold Accounts: ~100 hours</strong></p><h3><strong>Optional</strong>: Vehicle to PDF Record</h3><p>Convert Vehicle Record into PDF in Salesforce and attached as ContentDocument record related to Vehicle record which would be sent over to Box in above process.</p><p>Options to do this:</p><ol start="1"><li><p><strong>Render a Visualforce Page as PDF using Apex  -</strong> <strong>Est ~24 hours</strong></p><ol start="1"><li><p>Create a Button on the layout that calls an Apex Class</p></li><li><p>The Apex Class renders a Visualforce Page as a PDF</p></li><li><p>Visualforce Page</p></li></ol></li><li><p><strong>Plug in such as Formstack, Conga Composer </strong></p><ol start="1"><li><p>This would either require payment to upgrade features or configuration and setup for a one-off (you&rsquo;re not paying for the features that would likely do this). </p></li></ol></li><li><p><strong>Create script</strong> - <strong>Est ~50 hours</strong></p><ol start="1"><li><p>Create script to go with our original script that pulls all fields and data from Vehicle records related to the TCP Sold Accounts. Generate PDF and then push back to the Vehicle record to store as a Note.</p></li><li><p>Create logic to get all fields, put into csv or file and store as attachment on vehicle (can be added into current job). This might not be the most appealing visually but will provide the data.</p></li></ol></li></ol><h3>All Accounts (Opportunities)</h3><ol start="1"><li><p>Define criteria for which Opportunities we want to apply this logic i.e. only those that have account number, etc. </p></li><li><p>Fetch Opportunities using defined Criteria.</p></li><li><p>Get folders from Box based off the Opportunity Account Number (Note: in order for automation to work, the Account folder has to have a Parent Folder in order for us to match based off the Account Number and update/add files).</p></li><li><p> Build job that finds matching folder in Box</p></li><li><p>Get related Opportunity data in Salesforce and push to new folder &ldquo;Salesforce Documents&rdquo; in Box in the Account folder</p></li></ol><p /><h1><strong>Proposed Solution:</strong></h1><p><br />Implement an automated solution using <a href="http://Tray.io" data-card-appearance="inline">http://Tray.io</a> , an integration and automation platform known for its robust capabilities in handling data workflows between different systems. This platform will facilitate the seamless transfer of documents from Salesforce to Box, ensuring that each account's files are correctly sorted and accessible in their respective folders.</p><p><strong>Note</strong>: it was discussed to just grant access to TCP to Salesforce as read-only access to the account but this requires an additional Salesforce license ($$$) and to update the Org Sharing Settings for Accounts, Opportunities, Vehicles to Private which involves the addition of several sharing rules to open access back up to all other users. Provided rough estimate: 8 hours to complete update to Sharing Rules in Sandbox then Production. Not included in this estimate is assigning the TCP Accounts to the new TCP User or setting up that User.</p><h3>Workflow Details:</h3><ol start="1"><li><p><strong>Data Identification:</strong></p><ul><li><p>The process begins with identifying all relevant documents linked to the 850 sold accounts within Salesforce. This includes detailing which files need to be transferred based on their storage within Salesforce (either in &quot;Notes &amp; Attachments&quot; or &quot;Work Orders&quot;).</p></li></ul></li><li><p><strong>Data Extraction:</strong></p><ul><li><p><a href="http://Tray.io" data-card-appearance="inline">http://Tray.io</a>  will extract these files and any associated metadata from Salesforce. The extraction process will be configured to handle various data types and structures, ensuring all relevant details are captured without data loss.</p></li></ul></li><li><p><strong>Data Organization:</strong></p><ul><li><p>As part of the transfer, <a href="http://Tray.io" data-card-appearance="inline">http://Tray.io</a>  will organize the files into predefined folder structures within Box. This setup will mirror the organizational schema used in Salesforce to maintain consistency and ease of access.</p></li></ul></li><li><p><strong>Data Transfer:</strong></p><ul><li><p>The documents will be securely transferred from Salesforce to Box using <a href="http://Tray.io" data-card-appearance="inline">http://Tray.io</a> &rsquo;s automation capabilities. The platform will handle the bulk transfer efficiently, with minimal manual intervention, reducing the risk of human error.</p></li></ul></li><li><p><strong>Logging and Reporting:</strong></p><ul><li><p>The automation will include logging and reporting mechanisms to record the process details. This transparency is crucial for troubleshooting, compliance verification, and future audits.</p></li></ul></li><li><p><strong>Security and Compliance:</strong></p><ul><li><p>The solution will adhere to data security and compliance requirements, ensuring that all transfers are secure and access to sensitive information is controlled through Box's security frameworks.</p></li></ul></li></ol><h3>Benefits:</h3><ul><li><p><strong>Efficiency and Speed:</strong> Automation significantly reduces the time and effort required to transfer large volumes of data.</p></li><li><p><strong>Accuracy and Reliability:</strong> Reduces the potential for human error by automating data extraction and organization.</p></li><li><p><strong>Scalability:</strong> The solution can be scaled to include more accounts or adapt to future needs without substantial changes to the underlying workflow.</p></li><li><p><strong>Enhanced Security:</strong> Ensures that sensitive data is handled securely, with detailed access and transfer logs.</p></li></ul><h3>Next Steps:</h3><p>Upon approval, the project will move into the implementation phase, starting with the setup of <a href="http://Tray.io" data-card-appearance="inline">http://Tray.io</a>  integrations and followed by a testing phase to ensure the system works as intended. A review session will be scheduled post-implementation to evaluate the workflow&rsquo;s effectiveness and make adjustments if necessary.</p><p>This summary provides a comprehensive view of the project's scope and the proposed solution, allowing team members at Faye to continue making progress in your absence, with a clear understanding of the objectives and methods involved.</p><p /><p>Call discussing project &amp; details July 23 - Jacob, Michael, Laura, Hasan</p><p><a href="https://hello.chorus.ai/listen?guid=a64e0d244aef41d1a49390668c745e37">https://hello.chorus.ai/listen?guid=a64e0d244aef41d1a49390668c745e37</a></p>